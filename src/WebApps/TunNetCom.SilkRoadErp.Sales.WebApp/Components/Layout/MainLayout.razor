@using Microsoft.Extensions.Localization
@using TunNetCom.SilkRoadErp.Sales.WebApp.Locales
@inherits LayoutComponentBase
@inject IStringLocalizer<SharedResource> Localizer
@inject NavigationManager NavigationManager

<RadzenComponents @rendermode="InteractiveAuto" />

<RadzenLayout>
    <RadzenHeader>
        <div style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 0 15px;">
            <!-- Left side -->
            <div style="display: flex; align-items: center; gap: 0;">
                <RadzenSidebarToggle Click="@(() => sidebarExpanded = !sidebarExpanded)" />
                <RadzenLabel Text="@Localizer["Silk_Road_ERP"]" Style="margin-left: 10px" />
            </div>

            <!-- Right side -->
            <div style="display: flex; align-items: center; gap: 20px;">
                <AccountingYearSelector />
                <LanguageSelector />
                <RadzenAppearanceToggle />
                <RadzenButton Click="OpenAccountSettings" Icon="manage_accounts"  Size="ButtonSize.Medium" />
            </div>
        </div>
    </RadzenHeader>
    <RadzenSidebar Responsive="false" Style="width: max-content">
        <RadzenPanelMenu DisplayStyle="@(sidebarExpanded? MenuItemDisplayStyle.IconAndText: MenuItemDisplayStyle.Icon)" ShowArrow="false">
            <RadzenPanelMenuItem Text="@Localizer["Overview"]" Icon="home" />
            <RadzenPanelMenuItem Text="@Localizer["Dashboard"]" Icon="dashboard" />
            <RadzenPanelMenuItem Text="@Localizer["Clients"]" Icon="account_circle">
                <RadzenPanelMenuItem Text="@Localizer["Accounts"]" Icon="description" Path="/customers_list" />
                <RadzenPanelMenuItem Text="@Localizer["Manage_Invoices"]" Icon="chrome_reader_mode" Path="/manage-invoice" />
                <RadzenPanelMenuItem Text="@Localizer["Invoices_List"]" Icon="receipt" Path="/invoices" />
                <RadzenPanelMenuItem Text="@Localizer["Delivery_Note"]" Icon="add_shopping_cart" Path="/AddOrUpdateDeliveryNote" />
                <RadzenPanelMenuItem Text="@Localizer["Delivery_Notes_List"]" Icon="pageview" Path="/delivery-notes" />
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Text="@Localizer["providers"]" Icon="card_travel">
                <RadzenPanelMenuItem Text="@Localizer["Accounts"]" Icon="description" Path="/providers_list" />
                <RadzenPanelMenuItem Text="@Localizer["Manage_Invoices"]" Icon="chrome_reader_mode" Path="/manage-providers-invoices" />
                <RadzenPanelMenuItem Text="@Localizer["Receipt_Note"]" Icon="add_shopping_cart" Path="/add_or_update_reciption_notes" />
                <RadzenPanelMenuItem Text="@Localizer["Receipt_Notes_List"]" Icon="pageview" Path="/reciption_notes" />
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Text="@Localizer["Stock"]" Icon="event_seat">
                <RadzenPanelMenuItem Text="@Localizer["Articles"]" Icon="description" Path="/products_list" />
            </RadzenPanelMenuItem>
        </RadzenPanelMenu>
    </RadzenSidebar>
    <RadzenBody>
        <div class="rz-p-4">
            @Body
        </div>
    </RadzenBody>
    <RadzenFooter>
    </RadzenFooter>
</RadzenLayout>

@code {
    bool sidebarExpanded = true;
    void OpenAccountSettings()
    {
        NavigationManager.NavigateTo($"/app_parameters");
    }
}



<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<Toasts class="p-3" AutoHide="true" Delay="4000" Placement="ToastsPlacement.TopRight" />

