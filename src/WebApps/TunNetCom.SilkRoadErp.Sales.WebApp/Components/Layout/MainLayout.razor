@using Microsoft.Extensions.Localization
@using TunNetCom.SilkRoadErp.Sales.WebApp.Locales
@inherits LayoutComponentBase
@inject IStringLocalizer<SharedResource> Localizer
@inject NavigationManager NavigationManager

<RadzenComponents @rendermode="InteractiveAuto" />

<RadzenLayout>
    <RadzenHeader>
        <div style="display: flex; align-items: center; justify-content: space-between; width: 100%; padding: 0 15px;">
            <!-- Left side -->
            <div style="display: flex; align-items: center; gap: 0;">
                <RadzenSidebarToggle Click="@(() => sidebarExpanded = !sidebarExpanded)" />
                <RadzenLabel Text="@Localizer["Silk_Road_ERP"]" Style="margin-left: 10px" />
            </div>

            <!-- Right side -->
            <div style="display: flex; align-items: center; gap: 20px;">
                <AccountingYearSelector />
                <LanguageSelector />
                <RadzenAppearanceToggle />
                <RadzenButton Click="OpenAccountSettings" Icon="manage_accounts"  Size="ButtonSize.Medium" />
            </div>
        </div>
    </RadzenHeader>
    <RadzenSidebar Responsive="false" Style="width: max-content">
        <RadzenPanelMenu DisplayStyle="@(sidebarExpanded? MenuItemDisplayStyle.IconAndText: MenuItemDisplayStyle.Icon)" ShowArrow="false">
            <RadzenPanelMenuItem Text="@Localizer["Overview"]" Icon="home" />
            <RadzenPanelMenuItem Text="@Localizer["Dashboard"]" Icon="dashboard" />
            <RadzenPanelMenuItem Text="@Localizer["Clients"]" Icon="account_circle">
                <RadzenPanelMenuItem Text="@Localizer["Accounts"]" Icon="description" Path="/customers_list" />
                <RadzenPanelMenuItem Text="@Localizer["manage_invoices"]" Icon="chrome_reader_mode" Path="/manage-invoice" />
                <RadzenPanelMenuItem Text="@Localizer["Invoices_List"]" Icon="receipt" Path="/invoices" />
                <RadzenPanelMenuItem Text="Liste des avoirs" Icon="receipt_long" Path="/avoirs" />
                <RadzenPanelMenuItem Text="Gérer les avoirs" Icon="edit_note" Path="/manage-avoirs" />
                <RadzenPanelMenuItem Text="@Localizer["Delivery_Note"]" Icon="add_shopping_cart" Path="/AddOrUpdateDeliveryNote" />
                <RadzenPanelMenuItem Text="@Localizer["Delivery_Notes_List"]" Icon="pageview" Path="/delivery-notes" />
                <RadzenPanelMenuItem Text="Devis" Icon="description" Path="/AddOrUpdateQuotation" />
                <RadzenPanelMenuItem Text="Liste des devis" Icon="list" Path="/quotations" />
                <RadzenPanelMenuItem Text="@Localizer["Paiements_Clients"]" Icon="payment" Path="/paiements-client" />
                <RadzenPanelMenuItem Text="@Localizer["Soldes_Clients"]" Icon="account_balance" Path="/soldes-client" />
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Text="@Localizer["providers"]" Icon="card_travel">
                <RadzenPanelMenuItem Text="@Localizer["Accounts"]" Icon="description" Path="/providers_list" />
                <RadzenPanelMenuItem Text="@Localizer["manage_invoices"]" Icon="chrome_reader_mode" Path="/manage-providers-invoices" />
                <RadzenPanelMenuItem Text="Liste des avoirs fournisseur" Icon="receipt_long" Path="/avoir-fournisseur" />
                <RadzenPanelMenuItem Text="Gérer les avoirs fournisseur" Icon="edit_note" Path="/manage-avoir-fournisseur" />
                <RadzenPanelMenuItem Text="Liste des factures avoir" Icon="description" Path="/facture-avoir-fournisseur" />
                <RadzenPanelMenuItem Text="Gérer les factures avoir" Icon="chrome_reader_mode" Path="/manage-facture-avoir-fournisseur" />
                <RadzenPanelMenuItem Text="@Localizer["Receipt_Note"]" Icon="add_shopping_cart" Path="/add_or_update_reciption_notes" />
                <RadzenPanelMenuItem Text="@Localizer["Receipt_Notes_List"]" Icon="pageview" Path="/reciption_notes" />
                <RadzenPanelMenuItem Text="@Localizer["Paiements_Fournisseurs"]" Icon="payment" Path="/paiements-fournisseur" />
                <RadzenPanelMenuItem Text="@Localizer["Soldes_Fournisseurs"]" Icon="account_balance" Path="/soldes-fournisseur" />
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Text="@Localizer["Stock"]" Icon="event_seat">
                <RadzenPanelMenuItem Text="@Localizer["Articles"]" Icon="description" Path="/products_list" />
                <RadzenPanelMenuItem Text="@Localizer["inventaires"]" Icon="inventory" Path="/inventaires" />
            </RadzenPanelMenuItem>
            <RadzenPanelMenuItem Text="@Localizer["Banques"]" Icon="account_balance_wallet" Path="/banques" />
        </RadzenPanelMenu>
    </RadzenSidebar>
    <RadzenBody>
        <div class="rz-p-4">
            @Body
        </div>
    </RadzenBody>
    <RadzenFooter>
    </RadzenFooter>
</RadzenLayout>

@code {
    bool sidebarExpanded = true;
    void OpenAccountSettings()
    {
        NavigationManager.NavigateTo($"/app_parameters");
    }
}



<div id="blazor-error-ui">
    An unhandled error has occurred.
    <a href="" class="reload">Reload</a>
    <a class="dismiss">🗙</a>
</div>

<Toasts class="p-3" AutoHide="true" Delay="4000" Placement="ToastsPlacement.TopRight" />

